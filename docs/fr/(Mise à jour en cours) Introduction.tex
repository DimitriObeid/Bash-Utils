\documentclass[a4paper,10pt]{article}

\usepackage[utf8]{inputenc}     % Encodage du texte.
\usepackage[french]{babel}      % Langue du document.
\usepackage[sfdefault]{roboto}  % Police d'écriture utilisée dans le document.
\usepackage[T1]{fontenc}					%
\usepackage[usenames,dvipsnames]{xcolor}	% Coloration de texte.
\usepackage{verbatim}						% Mise en page de paragraphes.
\usepackage{fancyhdr}						%
\usepackage[document]{ragged2e}								% Justification du texte.
\usepackage[a4paper,margin=1in,footskip=0.25in]{geometry}	% Mise en page du document.					%
\usepackage{hyperref}

\fontfamily{}

\pagecolor{black}
\title{\color{red}Introduction à Bash Utils}\color{white}
\author{Dimitri OBEID}
\date{2021}
\pagestyle{fancy}
\justifying

\pdfinfo{
  /Title    (Introduction à Bash Utils)
  /Author   (Dimitri OBEID)
  /Creator  (Dimitri OBEID)
  /Producer (Dimitri OBEID)
  /Subject  (Introduction à Bash Utils)
  /Keywords ()
}

% Définition de couleurs
\definecolor{mauve}{RGB}{128, 0, 128}


% TODO : Justifier chaque paragraphe du document.
\begin{document}
\maketitle
\newpage

\hypertarget{contents}{}
\tableofcontents
\newpage

\color{red}
\section{Introduction à Bash Utils}\color{white}

\color{green}
\subsection{Présentation}\color{white}
Bash Utils est une librairie, c'est à dire un ensemble de fonctions utilitaires, regroupées et mises à\linebreak disposition afin de pouvoir être utilisées sans avoir à les réécrire.\\[1\baselineskip]

Comme son nom le suggère, il s'agit d'une librairie orientée vers le langage Bash, un langage de script permettant une interaction simple avec le shell (interpréteur de commandes) du système\linebreak d'exploitation, ainsi qu'avec ses différents programmes.\\[1\baselineskip]

Bash Utils est divisé en deux parties : la librairie, et les modules, expliqués plus en détails dans le\linebreak fichier \textbf{\color{lime}modules/Fonctionnement.pdf\color{white}}.\\[1\baselineskip]

Le shell utilisé est le Bash, qui est de loin le shell le plus utilisé dans le monde d'UNIX. Ce choix\linebreak s'explique non seulement par sa vaste présence, mais aussi par sa très vaste documentation\linebreak disponible et ses fonctionnalités (notamment les tableaux).\\[1\baselineskip]


\color{green}\par\noindent\rule{\textwidth}{0.4pt}\color{white}

\color{green}
\subsection{Utilisation}\color{white}
Pour utiliser cette librairie, il vous suffira de sourcer un seul fichier :
\begin{itemize}
    \item \color{orange}\textbf{\$HOME\color{lime}/.Bash-utils-init.sh\color{white}}\color{white}\\[1\baselineskip]
\end{itemize}

Ce script initialise tous les modules de la librairie passés en argument lors de l'exécution de ce dernier.\\[1\baselineskip]



\color{green}\par\noindent\rule{\textwidth}{0.4pt}\color{white}

\color{green}
\subsection{Architecture}\color{white}
La partie librairie de Bash Utils est un ensemble de fichiers source shell à sourcer dans un script, d'outils de développement ou encore de scripts déjà prêts à l'exécution.\\[1\baselineskip]

Les dossiers contenus dans  :
\color{blue}
\subsubsection{bin}\color{white}
Ce lien symbolique pointe vers le dossier \textbf{\color{lime}res/dev-tools/dev-bin\color{white}}.\\[1\baselineskip]

Ce dossier contient les fichiers exécutables nécessaires au bon fonctionnement de la librairie.\\[1\baselineskip]



\color{blue}\par\noindent\rule{\textwidth}{0.4pt}\color{white}

\color{blue}
\subsubsection{docs}\color{white}
Ce dossier contient toute la documentation utile aux développeurs et aux utilisateurs.\\[1\baselineskip]



\color{blue}\par\noindent\rule{\textwidth}{0.4pt}\color{white}

\color{blue}
\subsubsection{install}\color{white}
Ce dossier contient les fichiers et dossiers nécessaires à l'installation automatique de la librairie.\\[1\baselineskip]



\color{blue}\par\noindent\rule{\textwidth}{0.4pt}\color{white}

\color{blue}
\subsubsection{lib}\color{white}
Ce dossier est le plus important de tous, car il contient tous les fichiers source de la librairie\linebreak (fonctions et variables).\\[1\baselineskip]

Il contient les sous-dossiers suivants :
\begin{itemize}
    \item \color{lime}\textbf{functions\color{white} :} \color{white} ce sous-dossier contient tous les fichiers de fonctions dans différents sous-dossiers.\\[1\baselineskip]

    \item \color{lime}\textbf{lang\color{white} :} \color{white} ce sous-dossier contient tous les fichiers nécessaires à la traduction des scripts\linebreak (fonctionnalité future).\\[1\baselineskip]
\end{itemize}

Description des sous-dossiers du dossier \textbf{functions} :\\[1\baselineskip]

\setcounter{secnumdepth}{4}
\paragraph{functions}\mbox{}\\
Les sous-dossiers du dossier \textbf{functions} sont liés à un module et contiennent les fichiers source de chaque module.\\[1\baselineskip]

Chaque fichier source contient des fonctions qui sont propres au nom du fichier. Par exemple, le\linebreak fichier \textbf{\color{lime}Files.lib\color{white}} du module \textbf{main} ne contient que des fonctions de traitement de fichiers.\\[1\baselineskip]



\par\noindent\rule{\textwidth}{0.4pt}

\paragraph{lang}\mbox{}\\\mbox{}\\
\textbf{Rappel :} fonctionnalité future, certaines idées peuvent encore changer.\\[1\baselineskip]

Le fichier \textbf{\color{lime}lang.csv\color{white}} contient les différentes traductions de la librairie dans un fichier au format CSV. Il sera parsé (analysé) par le script d'initialisation.\\[1\baselineskip]



\par\noindent\rule{\textwidth}{0.4pt}

\paragraph{variables}\mbox{}\\\mbox{}\\
Chaque fichier définit des variables propres aux catégories décrites dans le nom de chaque fichier. Par exemple, les variables définies dans le fichier \textbf{\color{lime}colors.var\color{white}} sont des variables définissant le code de la couleur d'un texte à afficher.\\[1\baselineskip]



\color{blue}\par\noindent\rule{\textwidth}{0.4pt}\color{white}

\color{blue}
\subsubsection{res}\color{white}
Ce dossier contient plusieurs sous-dossiers :
\begin{itemize}
    \item \textbf{\color{lime}dev-tools\color{white} :} Ce dossier contient des scripts aidant au développement de la librairie, avec leurs dépendances (fichiers binaires, fichiers raccourcis \textbf{desktop}, icônes et fichiers sources dans le cas où un fichier serait trop long).\\[1\baselineskip]

    \item \textbf{\color{lime}ideas\color{white} :} Ce dossier contient des fichiers où j'écris mes idées de fonctionnalités à implémenter dans la librairie.\\[1\baselineskip]

    \item \textbf{\color{lime}src\color{white} :} Ce dossier contient des scripts préparés facilitant l'utilisation d'un système UNIX, en utilisant les fonctionnalités implémentées par la librairie.\\[1\baselineskip]

    \item \textbf{\color{lime}tests\color{white} :} Ce dossier contient de nombreux scripts servant ou ayant servi de fichiers de tests pour de nombreuses fonctionnalités, implémentées ou en cours d'implémentation.\\[1\baselineskip]
\end{itemize}



\color{blue}\par\noindent\rule{\textwidth}{0.4pt}\color{white}

\color{blue}
\subsubsection{tmp}\color{white}
Ce dossier, absent lors du téléchargement de la librairie, est créé par le fichier d'initialisation du\linebreak module \textbf{main}, et sert à enregistrer les fichiers temporaires générés par un projet, tels que des\linebreak fichiers de logs, de traduction, etc...\\[1\baselineskip]



\color{red}\par\noindent\rule{\textwidth}{0.4pt}\color{white}

\color{red}
\section{Fonctionnement}\color{white}
Au vu du nombre de fichiers, il serait très fastidieux de mettre à jour chaque script pour sourcer de nouveaux fichiers, voire même de sourcer manuellement chaque fichier, puis de déclarer des variables, quelques fonctions, de configurer et vérifier chaque étape d'initialisation du script principal.\\[1\baselineskip]

Il serait même encore plus fastidieux de réécrire tout ce code, ainsi que de le modifier dans chaque fichier en cas d'ajout de fonctionnalités ou en cas de bug, et encore plus de répéter toutes ces étapes pour chaque module à ajouter, voire à supprimer au cas où.\\[1\baselineskip]

Fort heureusement, un script shell s'occupe de cette partie : \color{lime}\textbf{Bash-utils-init.sh}\color{white}, dans le dossier\linebreak personnel.\\[1\baselineskip]

La seule procédure que vous devez réaliser dans votre script pour utiliser les fonctionnalités\linebreak proposées par Bash Utils est de sourcer le fichier cité ci-dessus. Il s'occupera de réaliser\linebreak toutes les étapes ci-dessous. Les fichiers mentionnés sont décrits plus en détils dans\linebreak le fichier \textbf{\color{lime}Bash-utils/docs/fr/modules/Fonctionnement.pdf\color{white}}.


\color{green}
\subsection{Étapes d'initialisation}\color{white}




\color{blue}
\subsubsection{Version de Bash}\color{white}
En premier lieu, le script vérifie que la version de Bash utilisée soit la version 4.0.0 ou une version supérieure.\\[1\baselineskip]



\color{blue}\par\noindent\rule{\textwidth}{0.4pt}\color{white}

\color{blue}
\subsubsection{Variables de modules}\color{white}
En second lieu, le script d'initialisation initialise les variables globales contenant les chemins des\linebreak multiples dossiers du gestionnaire de modules.\\[1\baselineskip]



\color{blue}\par\noindent\rule{\textwidth}{0.4pt}\color{white}

\color{blue}
\subsubsection{}\color{white}
En troisième lieu, il définit les fonctions utiles à l'initialisation de Bash Utils.



En quatrième lieu, le script crée le dossier temporaire du projet s'il n'existe pas déjà, puis dans ce dossier, il crée un fichier où seront redirigées les informations concernant le déroulé de la quatrième étape, avant de vérifier si les chemins contenus dans les variables \color{orange}\textbf{\$\_\_BASH\_UTILS\_*}\color{white} initialisées dans la première étape existent.

En cinquième lieu, le script source tous les fichiers de fonctions et de variables des sous-dossiers du dossier \color{lime}\textbf{lib}\color{white}.

En sixième lieu, le script :
\begin{itemize}
    \item Crée une variable nommée \color{orange}\textbf{\$\_\_PROJECT\_PATH}\color{white}, enregistrant le chemin du fichier de script principal par le biais de la fonction \color{mauve}\textbf{GetParentDirectoryPath} \color{white} du fichier \color{lime}\textbf{functions/main/Directories.lib}\color{white}.
    
    \item Modifie plusieurs variables de statut pour rendre la partie d'initialisation invisible à l'utilisateur final.
    
    \item Copie le contenu du fichier de logs de la partie d'initialisation dans le fichier de logs principal.\\[1\baselineskip]
\end{itemize}

\color{red}\par\noindent\rule{\textwidth}{0.4pt}\color{white}

\color{red}
\section{Documentations des fonctions et des variables de Bash Utils}\color{white}

\color{green}
\subsection{Fonctions}\color{white}
Tous les fichiers de documentation en français concernant la description des fonctions se situent dans le dossier \color{lime}\textbf{docs/fr/Bash/functions}\color{white}.\\[1\baselineskip]



\color{green}\par\noindent\rule{\textwidth}{0.4pt}\color{white}

\color{green}
\subsection{Variables}\color{white}
Tous les fichiers de documentation en français concernant la description des variables se situent dans le dossier \color{lime}\textbf{docs/fr/Bash/variables}\color{white}.\\[1\baselineskip]

Par ailleurs, \\[1\baselineskip]

\color{red}\par\noindent\rule{\textwidth}{0.4pt}\color{white}

\color{red}
\section{Installation de Bash Utils}\color{white}

\color{green}
\subsection{Configurations}\color{white}
Pour utiliser les fonctionnalités de la librairie depuis n'importe quel chemin sans avoir à réécrire le chemin du fichier d'initialisation dans une myriade de fichiers éparpillés sur le disque dur, il est fortement recommandé de créer un fichier (s'il n'existe pas encore) nommé \color{lime}\textbf{.bash\_profile}\color{white} dans votre dossier personnel, ainsi que dans le dossier personnel du super-utilisateur (dans le dossier \color{lime}\textbf{/root}\color{white}) pour tout script lancé avec les privilèges du super-utilisateur.

\color{green}
\subsection{Installation}\color{white}

\color{green}
\subsection{Mise à jour}\color{white}

\end{document}
